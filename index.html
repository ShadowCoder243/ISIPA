<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R√©sultats Acad√©miques - ISIPA</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        [data-theme="dark"] {
            --primary-color: #34495e;
            --secondary-color: #2980b9;
            --light-color: #2c3e50;
            --dark-color: #ecf0f1;
            --background-color: #1a1a1a;
            --text-color: #f5f5f5;
            --card-bg: #2c3e50;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--light-color);
            color: var(--dark-color);
            transition: var(--transition);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 20px 0;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo img {
            max-width: 140px;
            width: 100%;
            height: auto;
            border-radius:50%;
            display: block;
        }

        .logo-text h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
            animation: fadeIn 1s ease;
        }

        .logo-text p {
            font-size: 0.9rem;
            opacity: 0.9;
            animation: fadeIn 1.5s ease;
        }

        .theme-toggle {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: var(--transition);
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .hero {
            text-align: center;
            padding: 60px 20px;
            position: relative;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80') center/cover;
            opacity: 0.1;
            z-index: 0;
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: var(--primary-color);
            animation: slideUp 1s ease;
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 30px;
            color: var(--dark-color);
            animation: slideUp 1.2s ease;
        }

        .search-box {
            max-width: 600px;
            margin: 0 auto;
            position: relative;
            animation: slideUp 1.4s ease;
        }

        .search-box input {
            width: 100%;
            padding: 15px 20px;
            border-radius: 50px;
            border: none;
            box-shadow: var(--shadow);
            font-size: 1rem;
            transition: var(--transition);
            background-color: white;
            color: var(--dark-color);
        }

        .search-box input:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.3);
            transform: translateY(-2px);
        }

        .search-box button {
            position: absolute;
            right: 5px;
            top: 5px;
            background: var(--secondary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
        }

        .search-box button:hover {
            background: var(--primary-color);
            transform: translateY(-2px);
        }

        .result-container {
            background-color: white;
            border-radius: 10px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-top: 40px;
            display: none;
            animation: fadeIn 0.5s ease;
            background-color: var(--card-bg, white);
            color: var(--text-color, var(--dark-color));
        }

        .student-info {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            border-color: var(--text-color, rgba(0, 0, 0, 0.1));
        }

        .student-info h3 {
            font-size: 1.8rem;
            margin-bottom: 10px;
            color: var(--secondary-color);
        }

        .student-info p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .fees-warning {
            color: var(--accent-color);
            font-weight: bold;
            margin-top: 10px;
            padding: 10px;
            background-color: rgba(231, 76, 60, 0.1);
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            animation: fadeIn 0.8s ease;
        }

        .results-table th, .results-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            border-color: var(--text-color, rgba(0, 0, 0, 0.1));
        }

        .results-table th {
            background-color: var(--secondary-color);
            color: white;
            font-weight: 600;
        }

        .results-table tr:nth-child(even) {
            background-color: rgba(0, 0, 0, 0.05);
            background-color: var(--text-color, rgba(0, 0, 0, 0.05));
        }

        .results-table tr:hover {
            background-color: rgba(0, 0, 0, 0.1);
            background-color: var(--text-color, rgba(0, 0, 0, 0.1));
        }

        /* SECTION PRESENTATION */
        .presentation {
            margin: 40px auto 0;
            background: white;
            color: var(--dark-color);
            border-radius: 12px;
            box-shadow: var(--shadow);
            padding: 24px;
            background-color: var(--card-bg, white);
        }

        .presentation h2, .presentation h3 {
            margin-bottom: 12px;
            color: var(--primary-color);
        }

        .presentation p { margin-bottom: 12px; }
        .presentation ul { margin: 8px 0 16px 18px; }
        .presentation li { margin: 6px 0; }

        .presentation table {
            width: 100%;
            border-collapse: collapse;
            margin: 12px 0 8px 0;
        }
        .presentation table th,
        .presentation table td {
            border: 1px solid rgba(0,0,0,0.1);
            padding: 10px 12px;
            text-align: left;
        }
        .presentation table th {
            background: var(--secondary-color);
            color: #fff;
        }


        /* MODIFICATIONS COULEURS - SUJET, COTES, MAX EN NOIR */
        .results-table td:first-child, /* Mati√®res */
        .results-table td:nth-child(2), /* Cotes */
        .results-table td:nth-child(3) { /* Max */
            color: #000000 !important;
        }

        .validation {
            font-weight: bold;
        }

        /* MODIFICATIONS COULEURS - VALID√â EN VERT, √âCHOU√â ET N/A EN ROUGE */
        .valid {
            color: var(--success-color) !important;
        }

        .invalid {
            color: var(--accent-color) !important;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin-top: 30px;
            gap: 20px;
        }

        .stat-card {
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            flex: 1;
            min-width: 200px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            animation: fadeIn 1s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .stat-card h4 {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }

        .stat-card p {
            font-size: 2rem;
            font-weight: bold;
        }

        /* Styles pour les mentions */
        .mention-ajournee {
            color: var(--accent-color);
            font-weight: bold;
        }

        .mention-satisfaction {
            color: var(--warning-color);
            font-weight: bold;
        }

        .mention-distinction {
            color: #3498db;
            font-weight: bold;
        }

        .mention-grande-distinction {
            color: #2ecc71;
            font-weight: bold;
        }

        .mention-haute-distinction {
            color: #9b59b6;
            font-weight: bold;
        }

        footer {
            background-color: var(--primary-color);
            color: white;
            text-align: center;
            padding: 30px 0;
            margin-top: 50px;
        }

        .footer-content p {
            margin-bottom: 10px;
        }

        .slogan {
            font-style: italic;
            opacity: 0.8;
            font-size: 0.9rem;
        }

        .loading {
            display: none;
            text-align: center;
            margin: 30px 0;
        }

        .spinner {
            width: 40px;
            height: 40px;
            margin: 0 auto;
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: var(--secondary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        .floating-elements {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 1;
        }

        .floating-element {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float linear infinite;
        }

        @keyframes float {
            0% {
                transform: translateY(0) rotate(0deg);
            }
            100% {
                transform: translateY(-1000px) rotate(720deg);
            }
        }

        .error-message {
            color: var(--accent-color);
            text-align: center;
            margin-top: 20px;
            display: none;
            animation: shake 0.5s ease;
        }

        .not-available-message {
            color: var(--warning-color);
            text-align: center;
            margin-top: 20px;
            display: none;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .print-btn {
            display: block;
            margin: 30px auto 0;
            background: var(--secondary-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1rem;
            box-shadow: var(--shadow);
        }

        .print-btn:hover {
            background: var(--primary-color);
            transform: translateY(-2px);
        }

        @media print {
            body * {
                visibility: hidden;
            }
            .result-container, .result-container * {
                visibility: visible;
            }
            .result-container {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                box-shadow: none;
            }
            .print-btn, .theme-toggle {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 20px;
            }
            
            .hero h2 {
                font-size: 2rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .stats {
                flex-direction: column;
            }
            
            .stat-card {
                min-width: 100%;
            }
            
            .results-table {
                display: block;
                overflow-x: auto;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="floating-elements">
            <!-- Floating elements will be added by JavaScript -->
        </div>
        <div class="container header-content">
            <div class="logo">
                <img src="1717267750802.jpg" alt="Logo ISIPA" id="logo-img">
                <div class="logo-text">
                    <h1>Institut Sup√©rieur d'Informatique, Programmation et Analyse</h1>
                    <p>Consultez vos r√©sultats acad√©miques en ligne</p>
                </div>
            </div>
            <button class="theme-toggle" id="themeToggle">
                <span id="themeIcon">üåô</span>
                <span id="themeText">Mode sombre</span>
            </button>
        </div>
    </header>

    <section class="hero">
        <div class="container hero-content">
            <h2>R√©sultats de la Session</h2>
            <p>Entrez votre num√©ro de matricule pour consulter vos r√©sultats acad√©miques</p>
            
            <div class="search-box">
                <input type="text" id="matriculeInput" placeholder="Votre num√©ro de matricule...">
                <button id="searchBtn">Rechercher</button>
            </div>
            
            <div class="error-message" id="errorMessage">
                Num√©ro de matricule invalide. Veuillez r√©essayer.
            </div>
            
            <div class="not-available-message" id="notAvailableMessage">
                <i class="fas fa-clock"></i> Les r√©sultats ne sont pas encore disponibles. Veuillez r√©essayer plus tard.
            </div>
            
            <div class="loading" id="loadingIndicator">
                <div class="spinner"></div>
                <p>Recherche en cours...</p>
            </div>
        </div>
    </section>

    <div class="container">
        <section class="presentation" aria-labelledby="presentation-title">
            <h2 id="presentation-title">üßæ Pr√©sentation approfondie de la plateforme ISIPA R√©sultats</h2>
            <p>La plateforme ISIPA R√©sultats est un outil num√©rique con√ßu pour offrir aux √©tudiants une gestion fluide, s√©curis√©e et centralis√©e de leur parcours acad√©mique. Elle permet :</p>
            <ul>
                <li>üîç <strong>Consultation instantan√©e des r√©sultats acad√©miques</strong> : chaque √©tudiant peut acc√©der √† ses notes d√®s leur publication, avec une interface intuitive qui facilite la lecture et la compr√©hension.</li>
                <li>üñ®Ô∏è <strong>Impression des relev√©s de notes</strong> : les documents sont g√©n√©r√©s dans un format clair et officiel, pr√™ts √† √™tre imprim√©s ou t√©l√©charg√©s.</li>
                <li>üí∞ <strong>Suivi des frais acad√©miques</strong> : les √©tudiants peuvent consulter l‚Äô√©tat de leurs paiements, les √©ch√©ances √† venir et les √©ventuelles p√©nalit√©s.</li>
            </ul>
            <p>Pens√©e pour une accessibilit√© maximale, la plateforme est :</p>
            <ul>
                <li>üì± <strong>Optimis√©e pour mobile</strong> : elle s‚Äôadapte parfaitement aux √©crans de smartphones et tablettes.</li>
                <li>üåô <strong>Dot√©e d‚Äôun mode sombre</strong> : pour un confort visuel accru, notamment en environnement nocturne.</li>
                <li>üéûÔ∏è <strong>Anim√©e avec l√©g√®ret√©</strong> : les transitions et interactions sont fluides, sans ralentir la navigation.</li>
            </ul>

            <h2>üîß Prochaines am√©liorations pr√©vues</h2>
            <p>Voici les fonctionnalit√©s en cours de d√©veloppement pour enrichir l‚Äôexp√©rience utilisateur :</p>
            <table>
                <thead>
                    <tr>
                        <th>Fonctionnalit√©</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>üîê Authentification s√©curis√©e</td>
                        <td>Connexion par matricule et mot de passe, avec chiffrement des donn√©es.</td>
                    </tr>
                    <tr>
                        <td>üîÑ V√©rification en temps r√©el</td>
                        <td>Int√©gration d‚Äôune API connect√©e aux bases officielles pour garantir l‚Äôexactitude des donn√©es.</td>
                    </tr>
                    <tr>
                        <td>üìÇ Historique des sessions</td>
                        <td>Suivi des connexions et actions effectu√©es, avec export en PDF.</td>
                    </tr>
                    <tr>
                        <td>üì£ Notifications automatiques</td>
                        <td>Alertes par email ou SMS d√®s qu‚Äôun nouveau r√©sultat est publi√©.</td>
                    </tr>
                    <tr>
                        <td>üë®‚Äçüè´ Espace enseignant</td>
                        <td>Interface d√©di√©e pour la saisie et validation des notes.</td>
                    </tr>
                    <tr>
                        <td>‚ôø Accessibilit√© renforc√©e</td>
                        <td>Compatibilit√© avec la navigation clavier, contraste √©lev√©, et balises ARIA pour les lecteurs d‚Äô√©cran.</td>
                    </tr>
                </tbody>
            </table>

            <h2>üöÄ Suggestions pour aller encore plus loin</h2>
            <h3>üîç Fonctionnalit√©s avanc√©es</h3>
            <ul>
                <li><strong>Recherche intelligente</strong> : permettre aux √©tudiants de filtrer leurs r√©sultats par mati√®re, semestre ou enseignant.</li>
                <li><strong>Tableau de bord personnalis√©</strong> : affichage des statistiques (moyenne g√©n√©rale, progression, taux de r√©ussite).</li>
                <li><strong>Support multilingue</strong> : interface disponible en fran√ßais, anglais, et langues locales.</li>
            </ul>
            <h3>ü§ù Interaction et collaboration</h3>
            <ul>
                <li><strong>Forum √©tudiant</strong> : espace d‚Äô√©change entre √©tudiants pour poser des questions ou partager des ressources.</li>
                <li><strong>Chat d‚Äôassistance</strong> : support technique int√©gr√© pour r√©pondre aux probl√®mes de connexion ou d‚Äôacc√®s aux donn√©es.</li>
            </ul>
            <h3>üìä Administration et reporting</h3>
            <ul>
                <li><strong>Outils d‚Äôanalyse pour l‚Äôadministration</strong> : visualisation des performances globales, taux de r√©ussite par fili√®re, etc.</li>
                <li><strong>Export Excel/CSV</strong> : pour faciliter les traitements hors ligne des donn√©es acad√©miques.</li>
            </ul>
            <h3>üîí S√©curit√© renforc√©e</h3>
            <ul>
                <li><strong>Authentification √† deux facteurs (2FA)</strong> : pour une protection accrue des comptes.</li>
                <li><strong>Journal d‚Äôaudit</strong> : suivi des modifications et acc√®s aux donn√©es sensibles.</li>
            </ul>
        </section>
    </div>


    <div class="container">
        <div class="result-container" id="resultContainer">
            <div class="student-info" id="studentInfo">
                <h3 id="studentName">John Doe</h3>
                <p>Matricule: <span id="displayMatricule">123456</span> | Promotion: <span id="promotion">L1 INFO</span> | Session: <span id="session">1√®re Session</span></p>
                <!-- Zone pour afficher l'alerte des frais non pay√©s -->
                <div class="fees-warning" id="feesWarning" style="display: none;">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span>Vous n'√™tes pas en ordre avec les frais acad√©miques</span>
                </div>
            </div>
            
            <table class="results-table">
                <thead>
                    <tr>
                        <th>Mati√®res</th>
                        <th>Cotes</th>
                        <th>Max</th>
                        <th>Validation</th>
                    </tr>
                </thead>
                <tbody id="resultsBody">
                    <!-- Results will be populated by JavaScript -->
                </tbody>
            </table>
            
            <div class="stats">
                <div class="stat-card">
                    <h4>Moyenne G√©n√©rale</h4>
                    <p id="averageScore">75%</p>
                </div>
                <div class="stat-card">
                    <h4>Cr√©dits Obtenus</h4>
                    <p id="creditsEarned">45</p>
                </div>
                <div class="stat-card">
                    <h4>Mention</h4>
                    <p id="mention">Distinction</p>
                </div>
                <div class="stat-card">
                    <h4>D√©cision du Jury</h4>
                    <p id="juryDecision">Bon r√©sultat avec m√©rite</p>
                </div>
            </div>
            
            <button class="print-btn" id="printBtn">Imprimer les r√©sultats</button>
        </div>
    </div>

    <footer>
        <div class="container footer-content">
            <p>Institut Sup√©rieur d'Informatique, Programmation et Analyse</p>
            <p>¬© 2026 </p>
            <p class="slogan">NOTRE CHALLENGE, VOTRE REUSSITE</p>
        </div>
    </footer>

    <script>
        // Base de donn√©es des √©tudiants
        const studentsDatabase = {
            "ISIPA2023001": {
                name: "Mokuba Elenga Os√©e",
                promotion: "L1 INFO",
                results: [
                    { subject: "Algorithmique", score: 23, max: 100 },
                    { subject: "Programmation Web", score: 54, max: 100 },
                    { subject: "Bases de Donn√©es", score: 71, max: 100 },
                    { subject: "Math√©matiques", score: 60, max: 100 },
                    { subject: "Syst√®mes d'Information", score: 88, max: 100 }
                ],
                creditsEarned: 30,
                feesPaid: false,
                resultsAvailable: true
            },
            "ISIPA2023002": {
                name: "Mokuba Aifila Alexendre",
                promotion: "L2 INFO",
                results: [
                    { subject: "Programmation Orient√©e Objet", score: 60, max: 100 },
                    { subject: "R√©seaux Informatiques", score: 40, max: 100 },
                    { subject: "Analyse des Donn√©es", score: 62, max: 100 },
                    { subject: "Gestion de Projet", score: 50, max: 100 },
                    { subject: "S√©curit√© Informatique", score: 20, max: 100 }
                ],
                creditsEarned: 48,
                feesPaid: true,
                resultsAvailable: true
            },
            "ISIPA2023003": {
                name: "Kieyele Kasiama Steve",
                promotion: "L3 INFO",
                results: [
                    { subject: "Intelligence Artificielle", score: 38, max: 100 },
                    { subject: "D√©veloppement Mobile", score: undefined },
                    { subject: "Cloud Computing", score: 72, max: 100 },
                    { subject: "Big Data", score: 68, max: 100 },
                    { subject: "Ethique Informatique", score: 90, max: 100 }
                ],
                creditsEarned: 42,
                feesPaid: true,
                resultsAvailable: true
            },
            "ISIPA2023004": {
                name: "Mokuba Maowa Ruth",
                promotion: "L2 INFO",
                results: [
                    { subject: "Intelligence Artificielle", score: 64, max: 100 },
                    { subject: "D√©veloppement Mobile", score: undefined },
                    { subject: "Cloud Computing", score: 88, max: 100 },
                    { subject: "Big Data", score: 90, max: 100 },
                    { subject: "Ethique Informatique", score: 93, max: 100 }
                ],
                creditsEarned: 45,
                feesPaid: true,
                resultsAvailable: true
            }
        };

        // Liste des matricules dont les r√©sultats ne sont pas encore disponibles
        const unavailableMatricules = ["ISIPA2023005", "ISIPA2023006", "ISIPA2023007"];

        // DOM Elements
        const matriculeInput = document.getElementById('matriculeInput');
        const searchBtn = document.getElementById('searchBtn');
        const resultContainer = document.getElementById('resultContainer');
        const studentName = document.getElementById('studentName');
        const displayMatricule = document.getElementById('displayMatricule');
        const promotion = document.getElementById('promotion');
        const session = document.getElementById('session');
        const resultsBody = document.getElementById('resultsBody');
        const averageScore = document.getElementById('averageScore');
        const creditsEarned = document.getElementById('creditsEarned');
        const mention = document.getElementById('mention');
        const juryDecision = document.getElementById('juryDecision');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const errorMessage = document.getElementById('errorMessage');
        const notAvailableMessage = document.getElementById('notAvailableMessage');
        const feesWarning = document.getElementById('feesWarning');
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        const themeText = document.getElementById('themeText');
        const printBtn = document.getElementById('printBtn');
        const floatingElements = document.querySelector('.floating-elements');

        // Create floating elements
        function createFloatingElements() {
            const colors = ['rgba(255, 255, 255, 0.3)', 'rgba(255, 255, 255, 0.2)', 'rgba(255, 255, 255, 0.1)'];
            
            for (let i = 0; i < 15; i++) {
                const element = document.createElement('div');
                element.classList.add('floating-element');
                
                const size = Math.random() * 100 + 50;
                const posX = Math.random() * 100;
                const posY = Math.random() * 100 + 100;
                const duration = Math.random() * 20 + 10;
                const delay = Math.random() * 5;
                const color = colors[Math.floor(Math.random() * colors.length)];
                
                element.style.width = `${size}px`;
                element.style.height = `${size}px`;
                element.style.left = `${posX}%`;
                element.style.top = `${posY}%`;
                element.style.background = color;
                element.style.animationDuration = `${duration}s`;
                element.style.animationDelay = `${delay}s`;
                
                floatingElements.appendChild(element);
            }
        }

        // Theme toggle
        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            
            if (currentTheme === 'dark') {
                document.documentElement.removeAttribute('data-theme');
                themeIcon.textContent = 'üåô';
                themeText.textContent = 'Mode sombre';
                localStorage.setItem('theme', 'light');
            } else {
                document.documentElement.setAttribute('data-theme', 'dark');
                themeIcon.textContent = '‚òÄÔ∏è';
                themeText.textContent = 'Mode clair';
                localStorage.setItem('theme', 'dark');
            }
        }

        // Check for saved theme preference
        function checkTheme() {
            const savedTheme = localStorage.getItem('theme');
            
            if (savedTheme === 'dark') {
                document.documentElement.setAttribute('data-theme', 'dark');
                themeIcon.textContent = '‚òÄÔ∏è';
                themeText.textContent = 'Mode clair';
            }
        }

        // Calculate average score
        function calculateAverage(results) {
            const validResults = results.filter(course => course.score !== undefined);
            if (validResults.length === 0) return 0;
            
            const total = validResults.reduce((sum, course) => sum + course.score, 0);
            return Math.round(total / validResults.length);
        }

        // Display results
        function displayResults(matricule) {
            const student = studentsDatabase[matricule];
            
            if (!student) {
                showError();
                return;
            }
            
            // V√©rification de la disponibilit√© des r√©sultats
            if (!student.resultsAvailable) {
                showNotAvailable();
                return;
            }
            
            // Afficher l'alerte si les frais ne sont pas pay√©s
            if (!student.feesPaid) {
                feesWarning.style.display = 'flex';
            } else {
                feesWarning.style.display = 'none';
            }

            // Mettre √† jour les informations sur l'√©tudiant
            studentName.textContent = student.name;
            displayMatricule.textContent = matricule;
            promotion.textContent = student.promotion;
            session.textContent = "1√®re Session";

            // V√©rification des cotes manquantes
            const hasMissingScores = student.results.some(course => course.score === undefined);

            // Mettre √† jour le tableau des r√©sultats
            resultsBody.innerHTML = '';
            student.results.forEach(course => {
                const row = document.createElement('tr');
                const isPassed = course.score !== undefined && course.score >= 50;

                row.innerHTML = `
                    <td>${course.subject}</td>
                    <td>${course.score !== undefined ? course.score : 'N/A'}</td>
                    <td>${course.max}</td>
                    <td class="validation ${isPassed ? 'valid' : 'invalid'}">
                        ${course.score !== undefined ? (isPassed ? 'Valid√©' : '√âchou√©') : 'N/A'}
                    </td>
                `;

                resultsBody.appendChild(row);
            });

            // Mettre √† jour les statistiques
            if (hasMissingScores) {
                averageScore.textContent = "Attente";
                creditsEarned.textContent = "Attente";
                mention.textContent = "Attente";
                juryDecision.textContent = "Attente des r√©sultats";
            } else {
                const avg = calculateAverage(student.results);
                averageScore.textContent = `${avg}%`;
                creditsEarned.textContent = student.creditsEarned;

                // D√©terminer la mention et la d√©cision du jury
                let mentionText = '';
                let juryDecisionText = '';
                let mentionClass = '';

                if (avg < 50) {
                    mentionText = 'Ajourn√©e';
                    mentionClass = 'mention-ajournee';
                    juryDecisionText = '√âchec, l\'√©tudiant doit repasser l\'examen ou le cours.';
                } else if (avg >= 50 && avg < 65) {
                    mentionText = 'Satisfaction';
                    mentionClass = 'mention-satisfaction';
                    juryDecisionText = 'R√©ussi, mais avec quelques mati√®res √† refaire.';
                } else if (avg >= 65 && avg < 75) {
                    mentionText = 'Distinction';
                    mentionClass = 'mention-distinction';
                    juryDecisionText = 'Bon r√©sultat avec m√©rite.';
                } else if (avg >= 75 && avg < 85) {
                    mentionText = 'Grande distinction';
                    mentionClass = 'mention-grande-distinction';
                    juryDecisionText = 'Excellent r√©sultat.';
                } else {
                    mentionText = 'La plus haute distinction';
                    mentionClass = 'mention-haute-distinction';
                    juryDecisionText = 'R√©sultat exceptionnel.';
                }

                // Mettre √† jour les √©l√©ments avec les classes appropri√©es
                mention.textContent = mentionText;
                mention.className = mentionClass;
                juryDecision.textContent = juryDecisionText;
            }

            // Afficher les r√©sultats
            loadingIndicator.style.display = 'none';
            resultContainer.style.display = 'block';
            
            // Faire d√©filer vers les r√©sultats
            setTimeout(() => {
                resultContainer.scrollIntoView({ behavior: 'smooth' });
            }, 300);
        }

        // Show error message
        function showError() {
            loadingIndicator.style.display = 'none';
            errorMessage.style.display = 'block';
            notAvailableMessage.style.display = 'none';
            resultContainer.style.display = 'none';
            
            setTimeout(() => {
                errorMessage.style.display = 'none';
            }, 3000);
        }

        // Show results not available message
        function showNotAvailable() {
            loadingIndicator.style.display = 'none';
            notAvailableMessage.style.display = 'block';
            errorMessage.style.display = 'none';
            resultContainer.style.display = 'none';
            
            setTimeout(() => {
                notAvailableMessage.style.display = 'none';
            }, 5000);
        }

        // Search function
        function searchResults() {
            const matricule = matriculeInput.value.trim().toUpperCase();
            
            if (!matricule) {
                showError();
                return;
            }
            
            // V√©rifier si les r√©sultats ne sont pas encore disponibles
            if (unavailableMatricules.includes(matricule)) {
                loadingIndicator.style.display = 'block';
                resultContainer.style.display = 'none';
                errorMessage.style.display = 'none';
                notAvailableMessage.style.display = 'none';
                
                // Simuler un d√©lai de chargement
                setTimeout(() => {
                    loadingIndicator.style.display = 'none';
                    showNotAvailable();
                }, 1500);
                return;
            }
            
            loadingIndicator.style.display = 'block';
            resultContainer.style.display = 'none';
            errorMessage.style.display = 'none';
            notAvailableMessage.style.display = 'none';
            
            // Simulate API call delay
            setTimeout(() => {
                displayResults(matricule);
            }, 1500);
        }

        // Event Listeners
        searchBtn.addEventListener('click', searchResults);
        
        matriculeInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                searchResults();
            }
        });
        
        themeToggle.addEventListener('click', toggleTheme);
        
        printBtn.addEventListener('click', () => {
            window.print();
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            createFloatingElements();
            checkTheme();
            
            // Animation for elements
            const animateElements = document.querySelectorAll('.logo, .hero h2, .hero p, .search-box');
            
            animateElements.forEach((el, index) => {
                setTimeout(() => {
                    el.style.opacity = '1';
                    el.style.transform = 'translateY(0)';
                }, index * 200);
            });
        });
    </script>
</body>
</html>